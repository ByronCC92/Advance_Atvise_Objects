<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg height="186.61000000000001" version="1.2" width="261" xmlns="http://www.w3.org/2000/svg" xmlns:atv="http://webmi.atvise.com/2007/svgext" xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs>
  <linearGradient gradientUnits="objectBoundingBox" id="id_33_fill_gradient" spreadMethod="reflect" x1="0.0675676" x2="0.581081" y1="1" y2="1">
   <stop offset="0" stop-color="#999999"/>
   <stop offset="1" stop-color="#e5e5e5"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="id_34_fill_gradient" spreadMethod="reflect" x1="-0.135135" x2="0.405405" y1="0.986486" y2="0.972973">
   <stop offset="0" stop-color="#999999"/>
   <stop offset="1" stop-color="#e5e5e5"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="id_41_fill_gradient" spreadMethod="reflect" x1="-0.135135" x2="0.405405" y1="1" y2="0.972973">
   <stop offset="0" stop-color="#999999"/>
   <stop offset="1" stop-color="#e5e5e5"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="id_42_fill_gradient" spreadMethod="reflect" x1="-0.135135" x2="0.405405" y1="0.986486" y2="0.972973">
   <stop offset="0" stop-color="#999999"/>
   <stop offset="1" stop-color="#e5e5e5"/>
  </linearGradient>
  <radialGradient cx="0.5" cy="0.5" fx="0.5" fy="0.5" gradientUnits="objectBoundingBox" id="id_42_stroke_gradient" r="1">
   <stop offset="0" stop-color="#000000"/>
   <stop offset="1" stop-color="#ffffff"/>
  </radialGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="id_43_fill_gradient" spreadMethod="reflect" x1="-0.135135" x2="0.405405" y1="1" y2="0.972973">
   <stop offset="0" stop-color="#999999"/>
   <stop offset="1" stop-color="#e5e5e5"/>
  </linearGradient>
  <radialGradient cx="0.5" cy="0.5" fx="0.5" fy="0.5" gradientUnits="objectBoundingBox" id="id_44_fill_gradient" r="0.514579">
   <stop offset="0.6088709677419355" stop-color="#e4e4e4"/>
   <stop offset="1" stop-color="#9a9a9a"/>
  </radialGradient>
  <radialGradient cx="0.5" cy="0.5" fx="0.5" fy="0.5" gradientUnits="objectBoundingBox" id="id_7_fill_gradient" r="0.514579">
   <stop offset="0.6088709677419355" stop-color="#e4e4e4"/>
   <stop offset="1" stop-color="#9a9a9a"/>
  </radialGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="linear_0" x1="0" x2="1" y1="0" y2="1">
   <stop offset="0" stop-color="#000000"/>
   <stop offset="1" stop-color="#000000" stop-opacity="0"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_10_" x1="0.499998" x2="0.499998" y1="0.999893" y2="-0.000248756">
   <stop offset="0.01" stop-color="#0000FF"/>
   <stop offset="0.51" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000FF"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_11_" x1="2.29148e-05" x2="0.999971" y1="0.499873" y2="0.499873">
   <stop offset="0.01" stop-color="#0000AD"/>
   <stop offset="0.65" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000AD"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_12_" x1="3.79478e-06" x2="0.999989" y1="0.500014" y2="0.500014">
   <stop offset="0.01" stop-color="#0000AD"/>
   <stop offset="0.51" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000AD"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_13_" x1="0" x2="0.999954" y1="0.500012" y2="0.500012">
   <stop offset="0.01" stop-color="#0000FF"/>
   <stop offset="0.51" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000FF"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_14_" x1="-4.35294e-06" x2="0.999978" y1="0.499868" y2="0.499868">
   <stop offset="0.01" stop-color="#0000FF"/>
   <stop offset="0.51" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000FF"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_15_" x1="0.500157" x2="0.500157" y1="0.999969" y2="9.18555e-05">
   <stop offset="0.01" stop-color="#B2B2B2"/>
   <stop offset="0.49" stop-color="#F0F0F0"/>
   <stop offset="1" stop-color="#B2B2B2"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_16_" x1="0.500157" x2="0.500157" y1="1" y2="2.95946e-05">
   <stop offset="0.01" stop-color="#B2B2B2"/>
   <stop offset="0.49" stop-color="#F0F0F0"/>
   <stop offset="1" stop-color="#B2B2B2"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_17_" x1="0.500157" x2="0.500157" y1="1.00017" y2="8.59599e-05">
   <stop offset="0.01" stop-color="#B2B2B2"/>
   <stop offset="0.49" stop-color="#F0F0F0"/>
   <stop offset="1" stop-color="#B2B2B2"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_18_" x1="0.500157" x2="0.500157" y1="0.999882" y2="-8.87837e-05">
   <stop offset="0.01" stop-color="#B2B2B2"/>
   <stop offset="0.49" stop-color="#F0F0F0"/>
   <stop offset="1" stop-color="#B2B2B2"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_19_" x1="0.49986" x2="0.49986" y1="1" y2="-1.43891e-05">
   <stop offset="0.01" stop-color="#0000FF"/>
   <stop offset="0.51" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000FF"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_1_" x1="0.5" x2="0.5" y1="1.00001" y2="-1.38367e-16">
   <stop offset="0.01" stop-color="#0000FF"/>
   <stop offset="0.51" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000FF"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_20_" x1="0.500052" x2="0.500052" y1="0.99999" y2="-2.28534e-05">
   <stop offset="0.01" stop-color="#B2B2B2"/>
   <stop offset="0.49" stop-color="#F0F0F0"/>
   <stop offset="1" stop-color="#B2B2B2"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_21_" x1="3.60959e-05" x2="1.00001" y1="0.500013" y2="0.500013">
   <stop offset="0.01" stop-color="#0000FF"/>
   <stop offset="0.51" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000FF"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_2_" x1="0.50004" x2="0.50004" y1="0.999988" y2="-3.08337e-05">
   <stop offset="0.01" stop-color="#0000FF"/>
   <stop offset="0.51" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000FF"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_3_" x1="0.500014" x2="0.500014" y1="0.999991" y2="-1.82465e-05">
   <stop offset="0.01" stop-color="#0000AD"/>
   <stop offset="0.51" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000AD"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_4_" x1="0.500014" x2="0.500014" y1="1" y2="4.35284e-06">
   <stop offset="0.01" stop-color="#0000FF"/>
   <stop offset="0.51" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000FF"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_5_" x1="0.499997" x2="0.499997" y1="0.99999" y2="-1.19355e-05">
   <stop offset="0.01" stop-color="#0000FF"/>
   <stop offset="0.51" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000FF"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_6_" x1="0.499948" x2="0.499948" y1="1.00004" y2="-1.19366e-05">
   <stop offset="0.01" stop-color="#0000FF"/>
   <stop offset="0.51" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000FF"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_7_" x1="0.5" x2="0.5" y1="0.999949" y2="-0.000152284">
   <stop offset="0.01" stop-color="#7F7FFF"/>
   <stop offset="0.51" stop-color="#B4B4FF"/>
   <stop offset="1" stop-color="#7F7FFF"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_8_" x1="0.499996" x2="0.499996" y1="0.999765" y2="0">
   <stop offset="0.01" stop-color="#0000FF"/>
   <stop offset="0.51" stop-color="#7F7FFF"/>
   <stop offset="1" stop-color="#0000FF"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="SVGID_9_" x1="0.499986" x2="0.499986" y1="0.999869" y2="0.000104439">
   <stop offset="0.01" stop-color="#7F7FFF"/>
   <stop offset="0.51" stop-color="#B4B4FF"/>
   <stop offset="1" stop-color="#7F7FFF"/>
  </linearGradient>
 </defs>
 <metadata>
  <atv:parameter behavior="optional" defaultvalue="SYSTEM.GLOBALS.Color_Global_1" desc="Color" name="Color" substitute="$Color$" valuetype="global"/>
  <atv:gridconfig enabled="true" gridstyle="lines" height="20" width="20"/>
  <atv:snapconfig enabled="true" height="1" width="1"/>
 </metadata>
 <text atv:refpx="121.738" atv:refpy="13.5" fill="$Color$" font-family="Arial" font-size="14" font-weight="bold" id="Title" x="100.5" y="19">Name</text>
 <svg atv:refpx="108" atv:refpy="174.486" height="30" id="id_2" transform="matrix(1,0,0,0.6667,0,0)" width="80" x="68" xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.button_switch" y="246.72">
  <atv:argument name="base" prefix="base" value=".Variables.ONOFF"/>
  <atv:argument name="labelOn" value="T{Stop}"/>
  <atv:argument name="labelOff" value="T{Start}"/>
  <atv:overwrite height="18.001" id="id_6" transform="matrix(1,0,0,1.4999,0,0)"/>
  <atv:overwrite id="button_label" transform="matrix(1,0,0,1.4999,0,0)" y="14.5"/>
  <atv:overwrite id="button_symbol_off" transform="matrix(1,0,0,1.4999,0,0)" y="0"/>
  <atv:overwrite id="button_symbol_on" transform="matrix(1,0,0,1.4999,0,0)" y="0"/>
  <atv:overwrite height="16.001" id="blinking_frame" transform="matrix(1,0,0,1.4999,0,0)"/>
  <atv:overwrite height="16.001" id="button_stroke" transform="matrix(1,0,0,1.4999,0,0)"/>
  <atv:overwrite height="18.001" id="button_bg" transform="matrix(1,0,0,1.4999,0,0)"/>
  <atv:overwrite height="20.001" id="outer_frame" transform="matrix(1,0,0,1.4999,0,0)"/>
 </svg>
 <text atv:refpx="90.123" atv:refpy="153.984" fill="#195c88" font-family="Arial" font-size="12" font-weight="bold" id="id_49" x="72.967" y="158.484">On/Off</text>
 <polygon atv:refpx="63.671" atv:refpy="38.519" fill="#fdf90a" id="alert_increasing" points="51.67,50.518 75.67,50.518 63.003,26.518" stroke="#000000" stroke-width="1"/>
 <g atv:refpx="24.062" atv:refpy="168.546" id="maintenance" transform="matrix(1,0,0,1,-0.5819,13.9015)">
  <rect atv:refpx="46.171" atv:refpy="204.643" fill="#2b9de8" height="24.544" id="id_39" stroke="#000000" stroke-width="1" transform="matrix(0.7071,-0.7071,0.7071,0.7071,0,0)" width="24.544" x="-104.196" y="114.505"/>
  <text atv:refpx="28" atv:refpy="149.5" fill="#000000" font-family="Arial" font-size="14" id="id_40" x="18.5" y="160">M</text>
 </g>
 <polygon atv:refpx="11.207" atv:refpy="41.103" fill="#fdbf21" id="alert_decreasing" points="25.872,29.102 1.871,29.102 14.536,53.103" stroke="#000000" stroke-width="1"/>
 <text atv:refpx="64.671" atv:refpy="43.019" fill="#000000" font-family="Arial" font-size="14" font-weight="bold" id="alertC_text" text-anchor="end" x="66.171" y="47.519">1</text>
 <text atv:refpx="14.459" atv:refpy="38.101" fill="#000000" font-family="Arial" font-size="14" font-weight="bold" id="alertD_text" x="10.959" y="42.601">1</text>
 <rect atv:refpx="9.088" atv:refpy="-57.049" fill="#93060a" fill-opacity="0" height="42" id="click_area_alertC" stroke="none" stroke-width="0" width="28" x="50" y="11.484"/>
 <rect atv:refpx="14" atv:refpy="43.484" fill="#93060a" fill-opacity="0" height="42" id="click_area_alertD" stroke="none" stroke-width="0" width="28" x="0" y="24.484"/>
 <polygon atv:refpx="60.419" atv:refpy="82.021" fill="#fdf90a" id="alert_increasing_min" points="75.084,70.018 51.082,70.018 63.748,94.018" stroke="#000000" stroke-width="1"/>
 <text atv:refpx="63.671" atv:refpy="79.019" fill="#000000" font-family="Arial" font-size="14" font-weight="bold" id="alertC_text_min" x="60.171" y="83.519">1</text>
 <polygon atv:refpx="14.459" atv:refpy="81.601" fill="#fdbf21" id="alert_decreasing_min" points="2.458,93.601 26.458,93.601 13.79,69.601" stroke="#000000" stroke-width="1"/>
 <text atv:refpx="15" atv:refpy="85.984" fill="#000000" font-family="Arial" font-size="14" font-weight="bold" id="alertD_text_min" text-anchor="end" x="16.5" y="90.484">1</text>
 <rect atv:refpx="-40.912" atv:refpy="-13.049" fill="#93060a" fill-opacity="0" height="42" id="click_area_alertD_min" stroke="none" stroke-width="0" width="28" x="0" y="55.484"/>
 <g atv:refpx="36.5" atv:refpy="61.484" id="Ind_Bar" transform="matrix(1,0,0,1,-2,-7.516)">
  <rect atv:refpx="38.5" atv:refpy="69" fill="#626262" height="77.366" id="Barra_Ind2" rx="7" ry="7" stroke="#000000" stroke-width="1" width="14" x="31.5" y="30.317"/>
  <path atv:refpx="38.496" atv:refpy="36.976" d="M31.826,43.257L45.178,43.257L45.08,36.1C45.08,36.1 44.046,30.754 38.676,30.694C33.305,30.633 31.876,35.603 31.876,35.603C31.876,35.603 31.777,43.318 31.826,43.257" fill="#b5b5b5" id="id_19" stroke="#000000" stroke-width="0"/>
  <path atv:refpx="38.533" atv:refpy="100.982" d="M45.204,94.701L31.852,94.701L31.95,101.858C31.95,101.858 32.985,107.205 38.355,107.265C43.726,107.324 45.154,102.356 45.154,102.356C45.154,102.356 45.252,94.641 45.204,94.701" fill="#b5b5b5" id="id_20" stroke="#000000" stroke-width="0"/>
 </g>
 <rect atv:refpx="49.396" atv:refpy="14.695" fill="#bd070d" height="23" id="alarm_square" rx="1.855" ry="1.987" stroke="#000000" stroke-width="1" text-anchor="middle" width="23" x="37.446" y="2.569"/>
 <text atv:refpx="-20.554" atv:refpy="-10.716" fill="#000000" font-family="Arial" font-size="14" font-weight="bold" id="alarm_text" text-anchor="middle" x="48.946" y="19.07">1</text>
 <rect atv:refpx="-3.405" atv:refpy="-49.206" fill="#93060a" fill-opacity="0" height="28" id="click_area_alarm" stroke="none" stroke-width="0" width="28" x="34.879" y="0"/>
 <rect atv:refpx="49.102" atv:refpy="109.129" fill="#bd070d" height="23" id="alarm_square_min" rx="1.855" ry="1.987" stroke="#000000" stroke-width="1" text-anchor="middle" width="23" x="37.152" y="97.003"/>
 <text atv:refpx="-20.848" atv:refpy="83.718" fill="#000000" font-family="Arial" font-size="14" font-weight="bold" id="alarm_text_min" text-anchor="middle" x="48.652" y="113.504">1</text>
 <rect atv:refpx="-3.983" atv:refpy="45.512" fill="#93060a" fill-opacity="0" height="28" id="click_area_alarm_min" stroke="none" stroke-width="0" width="28" x="34.301" y="94.718"/>
 <rect atv:refpx="63" atv:refpy="84.484" fill="#93060a" fill-opacity="0" height="42" id="click_area_alertC_min" stroke="none" stroke-width="0" width="28" x="49" y="65.484"/>
 <script atv:desc="" atv:name="" type="text/ecmascript"><![CDATA[//------------------Variables Declaration------------------//

//External Variables
var Root_Path;
var Alarms=new Array(); //Here are all the alarms
var Object_ConditionsR=webMI.query["base"]+".Parameters.Object_Conditions";
var Root_PathR=webMI.query["base"]+".Parameters.Root_Path";
var Alarm_ActiveR=webMI.query["base"]+".Alarm_Active";
var AlertR=webMI.query["base"]+".Alert_Active";
var Mant_ActiveR=webMI.query["base"]+".Mant_Active";
var Mant_Notification=webMI.query["base"]+".Mant_Notification";

//Alarms window variable
 var Pop_Position; 
 var alarmWindow; 
 var alertWindowC; 
 var alertWindowD; 
 var alarmWindow_min; 
 var alertWindowC_min; 
 var alertWindowD_min; 
 var alarmWindow_fixed=false;
 var alertWindowC_fixed=false;
 var alertWindowD_fixed=false;
 var alarmWindow_fixed_min=false;
 var alertWindowC_fixed_min=false;
 var alertWindowD_fixed_min=false;
 
 //Alert Variables
 var alertCActive=false;
 var alertDActive=false;
 var alertCActive_min=false;
 var alertDActive_min=false;
 
 //Animation Variables
 
 //Alarms
 var alarmActive=false;
 var alarmActive_min=false;
 var increment=0.0;
 var isGrowing=true;
 var ColorIni="#bd070d";
 
 //Alerts
 const Movement_Range=8; //Pixels
 const Step_size=0.5; //Pixels
 
 //AlertC
 var incrementAlerC=0.0;
 var incrementAlerC_min=0.0;
 var ColorIniAlerC="#fdf90a";
 var ColorActAlerC=ColorIniAlerC;
 
 //AlertD
 var incrementAlerD=0.0;
 var incrementAlerD_min=0.0;
 var ColorIniAlerD="#fdbf21";
 var ColorActAlerD=ColorIniAlerD;
 
 var ColorAct=ColorIni;
 


//---------------General Section---------------//

//Initial Conditions
webMI.addOnload(function(e) {

	//Get reference position for Popups
	const thisElement = document.getElementById('click_area_alarm_min'); //Any element in child
	const parentElement = thisElement.parentElement; //Get parent html element reference
	const absolutePosition= [parentElement.getAttribute('x'),parentElement.getAttribute('y')];
	Pop_Position=[Number(absolutePosition[0])+80,Number(absolutePosition[1])+120]; //Position where the Pop Up Hides

	
	//Read Root Node path
	webMI.data.read(Root_PathR, function(e) {
	    Root_Path=e.value;		
	    webMI.query["Display"]=Root_Path+".Conditions_Blank";	
	})	
	
	//Read the alarms that are monitored
	webMI.data.read(Object_ConditionsR, function(e) {
	   var Object_ConditionsI=e.value;
	   
		for(var i=0; i<Object_ConditionsI.length;i++){
			var Object_ConditionsII=JSON.parse(Object_ConditionsI[i]);
			Alarms.push((Object_ConditionsII.Condition_name).split('=').pop());
		}
	});
	
	
	//Excute Script Startup	
	webMI.data.read(webMI.query["base"]+".Parameters.Startup", function(e) {
		var status=e.value;
		
		//It has not been initialized
		if (status==false) {
			webMI.data.write(webMI.query["base"]+".Parameters.Startup", true);
		}
	});	
	
	

	//Hide Mant	
	webMI.gfx.setVisible("maintenance", false);
	
	//Hide Barra
	webMI.gfx.setVisible("Ind_Bar", false);
	
	//Hide Alarma	
	webMI.gfx.setVisible("alarm_square", false);
	webMI.gfx.setVisible("alarm_text", false);	
	webMI.gfx.setVisible("alarm_square_min", false);
	webMI.gfx.setVisible("alarm_text_min", false);
	webMI.gfx.setVisible("click_area_alarm", false);
	webMI.gfx.setVisible("click_area_alarm_min", false);
	
	//Hide Alertas	
	webMI.gfx.setVisible("alert_increasing", false);
	webMI.gfx.setVisible("alertC_text", false);
	webMI.gfx.setVisible("alert_decreasing", false);	
	webMI.gfx.setVisible("alertD_text", false);
	webMI.gfx.setVisible("click_area_alertC", false);
	webMI.gfx.setVisible("click_area_alertC_min", false);
	
	webMI.gfx.setVisible("alert_increasing_min", false);
	webMI.gfx.setVisible("alertC_text_min", false);
	webMI.gfx.setVisible("alert_decreasing_min", false);	
	webMI.gfx.setVisible("alertD_text_min", false);
	webMI.gfx.setVisible("click_area_alertD", false);
	webMI.gfx.setVisible("click_area_alertD_min", false);
	
	
	//Initialize Title	
	webMI.gfx.setText("Title", (webMI.query["base"]).split('.').pop());
});

//Open Config Window  
webMI.addEvent("click_area", "click", function(e) {
	webMI.display.openWindow({display:Root_Path+".General_Configuration",extern:false,height:660,menubar:false,modal:false,movable:true,resizable:true,scrollbars:false,status:false,title:"T{Configuracion General }"+(webMI.query["base"]).split('.').pop(),toolbar:false,width:603,query:webMI.query});
});



//---------------Maintenance Section---------------//

//Add active maintenance
webMI.data.subscribe(Mant_Notification, function(e) {
	var id = "maintenance";
	var value = e.value;	
	if (value !="{}"){ //There are Pending maintenance
		webMI.gfx.setVisible(id, true); //Show maintenance	
	}	
	else if (value == "{}"){//No maintenance
		webMI.gfx.setVisible(id, false);
	}
});

//Open Window Mant Viewer
webMI.addEvent("maintenance", "click", function(e) {
	webMI.display.openWindow({display:Root_Path+".Mant_Viewer",extern:false,height:600,menubar:false,modal:false,movable:true,resizable:true,scrollbars:false,status:false,title:"T{Pending Maintenance: }"+(webMI.query["base"]).split('.').pop(),toolbar:false,width:465,query:webMI.query});
});

//--------Alarm Window---------------//

//Open Window Alarms Viewer Quick Look
webMI.addEvent("click_area_alarm", "mouseover", function(e) {

	if (alarmWindow==undefined ||alarmWindow.closed==true){ //Don´t Open if it was already open
		alarmWindow = webMI.display.openWindow({display:Root_Path+".Alarm_Viewer",extern:false,height:233,menubar:false,modal:false,movable:true,resizable:true,scrollbars:false,status:false,title:"T{High Active Alarms: }"+(webMI.query["base"]).split('.').pop(),toolbar:false,width:686,x:Pop_Position[0],y:Pop_Position[1],query:webMI.query});
		
	alarmWindow_fixed=false;
	}
});

//Open Window Alarms Viewer Permanent Look
webMI.addEvent("click_area_alarm", "click", function(e) {
	alarmWindow_fixed=true;
});

//Close Window Alarms Viewer
webMI.addEvent("click_area_alarm", "mouseout", function(e) {
	
	if(alarmWindow_fixed!=true){
		alarmWindow.close();
	}
});

//--------Window Increasing Alert---------------//

//Open Window AlerC_Viewer Quick Look
webMI.addEvent("click_area_alertC", "mouseover", function(e) {

	if (alertWindowC==undefined ||alertWindowC.closed==true){ //Don´t Open if it was already open
		alertWindowC = webMI.display.openWindow({display:Root_Path+".AlertC_Viewer",extern:false,height:233,menubar:false,modal:false,movable:true,resizable:true,scrollbars:false,status:false,title:"T{High Active Increasing Alerts: }"+(webMI.query["base"]).split('.').pop(),toolbar:false,width:686,x:Pop_Position[0],y:Pop_Position[1],query:webMI.query});
		
		alertWindowC_fixed=false;
	}
});

//Open Window AlerC_Viewer Permanent Look
webMI.addEvent("click_area_alertC", "click", function(e) {
	alertWindowC_fixed=true;
});

//Close Window AlerC_Viewer
webMI.addEvent("click_area_alertC", "mouseout", function(e) {
	
	if(alertWindowC_fixed!=true){
		alertWindowC.close();
	}
});

//--------Window Decreasing Alert---------------//

//Open Window AlerD_Viewer Quick Look
webMI.addEvent("click_area_alertD", "mouseover", function(e) {

	if (alertWindowD==undefined ||alertWindowD.closed==true){ //Don´t Open if it was already open
		alertWindowD = webMI.display.openWindow({display:Root_Path+".AlertD_Viewer",extern:false,height:233,menubar:false,modal:false,movable:true,resizable:true,scrollbars:false,status:false,title:"T{High Active Decreasing Alerts: }"+(webMI.query["base"]).split('.').pop(),toolbar:false,width:686,x:Pop_Position[0],y:Pop_Position[1],query:webMI.query});
		
		alertWindowD_fixed=false;
	}
});

//Open Window AlerD_Viewer Permanent Look
webMI.addEvent("click_area_alertD", "click", function(e) {
	alertWindowD_fixed=true;
});

//Close Window AlerD_Viewer
webMI.addEvent("click_area_alertD", "mouseout", function(e) {
	
	if(alertWindowD_fixed!=true){
		alertWindowD.close();
	}
});

//--------Window de Alarms Min---------------//

//Open Window Alarms Viewer min Quick Look
webMI.addEvent("click_area_alarm_min", "mouseover", function(e) {

	if (alarmWindow_min==undefined ||alarmWindow_min.closed==true){ //Don´t Open if it was already open
		alarmWindow_min = webMI.display.openWindow({display:Root_Path+".Alarm_Viewer_min",extern:false,height:233,menubar:false,modal:false,movable:true,resizable:true,scrollbars:false,status:false,title:"T{Low Active Alarms: }"+(webMI.query["base"]).split('.').pop(),toolbar:false,width:686,x:Pop_Position[0],y:Pop_Position[1],query:webMI.query});
		
	alarmWindow_fixed_min=false;
	}
});

//Open Window Alarms Viewer min Permanent Look
webMI.addEvent("click_area_alarm_min", "click", function(e) {
	alarmWindow_fixed_min=true;
});

//Close Alarms Viewer min
webMI.addEvent("click_area_alarm_min", "mouseout", function(e) {
	
	if(alarmWindow_fixed_min!=true){
		alarmWindow_min.close();
	}
});

//--------Window Increasing Alert min---------------//

//Open Window AlerC_Viewer_min Quick Look
webMI.addEvent("click_area_alertC_min", "mouseover", function(e) {

	if (alertWindowC_min==undefined ||alertWindowC_min.closed==true){ //Don´t Open if it was already open
		alertWindowC_min= webMI.display.openWindow({display:Root_Path+".AlertC_Viewer_min",extern:false,height:233,menubar:false,modal:false,movable:true,resizable:true,scrollbars:false,status:false,title:"T{Low Active Increasing Alerts: }"+(webMI.query["base"]).split('.').pop(),toolbar:false,width:686,x:Pop_Position[0],y:Pop_Position[1],query:webMI.query});
		
		alertWindowC_fixed_min=false;
	}
});

//Open Window AlerC_Viewer_min Permanent Look
webMI.addEvent("click_area_alertC_min", "click", function(e) {
	alertWindowC_fixed_min=true;
});

//Close Window AlerC_Viewer_min
webMI.addEvent("click_area_alertC_min", "mouseout", function(e) {
	
	if(alertWindowC_fixed_min!=true){
		alertWindowC_min.close();
	}
});

//--------Window de Alertas Decreciendo Min---------------//

//Open Window AlerD_Viewer_min Quick Look
webMI.addEvent("click_area_alertD_min", "mouseover", function(e) {

	if (alertWindowD_min==undefined ||alertWindowD_min.closed==true){ //Don´t Open if it was already open
		alertWindowD_min = webMI.display.openWindow({display:Root_Path+".AlertD_Viewer_min",extern:false,height:233,menubar:false,modal:false,movable:true,resizable:true,scrollbars:false,status:false,title:"T{Low Active Decreasing Alerts: }"+(webMI.query["base"]).split('.').pop(),toolbar:false,width:686,x:Pop_Position[0],y:Pop_Position[1],query:webMI.query});
		
		alertWindowD_fixed_min=false;
	}
});

//Open Window AlerD_Viewer_min Quick Look Permanent Look
webMI.addEvent("click_area_alertD_min", "click", function(e) {
	alertWindowD_fixed_min=true;
});

//Close Window AlerD_Viewer_min 
webMI.addEvent("click_area_alertD_min", "mouseout", function(e) {
	
	if(alertWindowD_fixed_min!=true){
		alertWindowD_min.close();
	}
});



//---------------Apereance Section---------------//

//Change color



//--------------Alarms Section---------------//

setTimeout(function(){ //Give the server some time
	//Alarm Activation
	webMI.data.subscribe(Alarm_ActiveR, function(e) {		
		
		var timestamp= (new Date()).getTime();
		
		//Initialize Variables
		var result=e.value;	
		var contador_Max=0;
		var contador_Min=0;
		
		for(var i=0; i<result.length;i++){
			if(result[i]!=""){//It is not empty
				var AlarmaAct = JSON.parse(result[i]);//Alarm being analized
				//Alarm High
				if(AlarmaAct.Condition_type=="Max"){
					contador_Max=contador_Max+1;
				}	
				
				//Alarm Min
				else{
						contador_Min=contador_Min+1;
				}
			}
		}		
		
		//Alarm High Section
		if(contador_Max>0){ //Active Alarm
				webMI.gfx.setVisible("alarm_square", true);
				webMI.gfx.setVisible("click_area_alarm", true);
				webMI.gfx.setVisible("alarm_text", true);					
				
				//Set Active Alarm counter
				webMI.gfx.setText("alarm_text", contador_Max);				
		
				//Active alarm
				alarmActive=true;
				
		}
		else{
			webMI.gfx.setVisible("alarm_square", false);
			webMI.gfx.setVisible("click_area_alarm", false);
			webMI.gfx.setVisible("alarm_text", false);
			
			//Inactive Alarm
			alarmActive=false;					
		}	
		
		//Alarm Min Section
		if(contador_Min>0){ //Active Alarm
				webMI.gfx.setVisible("alarm_square_min", true);
				webMI.gfx.setVisible("click_area_alarm_min", true);
				webMI.gfx.setVisible("alarm_text_min", true);					
				
				//Set count of active alarms min
				webMI.gfx.setText("alarm_text_min", contador_Min);				
		
				//Active alarm
				alarmActive_min=true;
				
		}
		else{
			webMI.gfx.setVisible("alarm_square_min", false);
			webMI.gfx.setVisible("click_area_alarm_min", false);
			webMI.gfx.setVisible("alarm_text_min", false);
			
			//Inactive Alarm
			alarmActive_min=false;					
		}	
		
		//Bar Section
		if(!alarmActive&&!alertCActive&&!alertDActive&&!alarmActive_min&&!alertCActive_min&&!alertDActive_min){	//Si todas las Alarms y alertas estan en false
			webMI.gfx.setVisible("Ind_Bar", false);
		}
		else{	//If at least one alert or alarm is active
			webMI.gfx.setVisible("Ind_Bar", true);
		}
	});	
},400);


//---------------Alert Section---------------//
//Alert Activation
webMI.data.subscribe(AlertR, function(e) {
	//Initialize Variables
	var result=e.value;		
	var AlertC=0;
	var AlertD=0;
	var AlertC_min=0;
	var AlertD_min=0;
	
	for(var i=0; i<result.length;i++){ //Go through all the alerts
		var InstantAlert=JSON.parse(result[i]);
		if (InstantAlert!=""){ //If there is an alert
			if (InstantAlert.Status=="Increasing"){ //It is Increasing
				if (InstantAlert.Condition_type=="Max"){ //It is Max		
					AlertC=AlertC+1;
				}
				else if (InstantAlert.Condition_type=="Min"){ //It is Min
					AlertC_min=AlertC_min+1;
				}			
			}
			else if (InstantAlert.Status=="Decreasing"){ //It is Decreasing
				if (InstantAlert.Condition_type=="Max"){ //It is Max			
					AlertD=AlertD+1;
				}
				else if (InstantAlert.Condition_type=="Min"){ //It is Min
					AlertD_min=AlertD_min+1;
				}	
			}
		}	
	}
	
	////////////Max Section
	
	//Increasing Max Analysis
	if (AlertC>0){ //There are Increasing Alerts
		webMI.gfx.setVisible("alert_increasing", true);
		webMI.gfx.setVisible("alertC_text", true);
		webMI.gfx.setVisible("click_area_alertC", true);	
		
		
		//Set Count of Increasing Alerts
		webMI.gfx.setText("alertC_text", AlertC);
		
		alertCActive=true;	
	}
	else{ //There are not Increasing Alerts
		webMI.gfx.setVisible("alert_increasing", false);
		webMI.gfx.setVisible("alertC_text", false);
		webMI.gfx.setVisible("click_area_alertC", false);
		
		alertCActive=false;
	}
	
	
	//Decreasing Max Analysis
	if (AlertD>0){ //There are Decreasing Alerts
		webMI.gfx.setVisible("alert_decreasing", true);
		webMI.gfx.setVisible("alertD_text", true);
		webMI.gfx.setVisible("click_area_alertD", true);	
		
		
		//Set Count of Decreasing Alerts
		webMI.gfx.setText("alertD_text", AlertD);	
		
		alertDActive=true;
	}
	else{ //There are not Increasing Alerts
		webMI.gfx.setVisible("alert_decreasing", false);
		webMI.gfx.setVisible("alertD_text", false);
		webMI.gfx.setVisible("click_area_alertD", false);
		
		alertDActive=false;
	}
	
	////////////Min Section
	
	//Increasing Min Analysis
	if (AlertC_min>0){ //There are Increasing Alerts
		webMI.gfx.setVisible("alert_increasing_min", true);
		webMI.gfx.setVisible("alertC_text_min", true);
		webMI.gfx.setVisible("click_area_alertC_min", true);	
		
		
		//Set Count of Increasing Alerts
		webMI.gfx.setText("alertC_text_min", AlertC_min);
		
		alertCActive_min=true;	
	}
	else{ //There are not Increasing Alerts
		webMI.gfx.setVisible("alert_increasing_min", false);
		webMI.gfx.setVisible("alertC_text_min", false);
		webMI.gfx.setVisible("click_area_alertC_min", false);
		
		alertCActive_min=false;
	}
	
	
	//Decreasing Min Analysis
	if (AlertD_min>0){ //There are Decreasing Alerts
		webMI.gfx.setVisible("alert_decreasing_min", true);
		webMI.gfx.setVisible("alertD_text_min", true);
		webMI.gfx.setVisible("click_area_alertD_min", true);	
		
		
		//Set Count of Decreasing Alerts
		webMI.gfx.setText("alertD_text_min", AlertD_min);	
		
		alertDActive_min=true;
	}
	else{ //There are not Increasing Alerts
		webMI.gfx.setVisible("alert_decreasing_min", false);
		webMI.gfx.setVisible("alertD_text_min", false);
		webMI.gfx.setVisible("click_area_alertD_min", false);
		
		alertDActive_min=false;
	}
	
	
	//Bar Section
	if(!alarmActive&&!alertCActive&&!alertDActive&&!alarmActive_min&&!alertCActive_min&&!alertDActive_min){	//Si todas las Alarms y alertas estan en false
		webMI.gfx.setVisible("Ind_Bar", false);
	}
	else{	//If at least one alert or alarm is active
		webMI.gfx.setVisible("Ind_Bar", true);
	}

});

//---------------Functions Section---------------//


//Animation function Alarms and alerts Pulsating

//Alarm Max
setInterval(() => {
	if(alarmActive){
		const initialfactor=1;
		const targetfactor=1.2;
		
		const id="alarm_square";
		
		//Color Calculation
		ColorAct=generateColorIntensity(ColorIni,(initialfactor+(increment*1.2)));
		webMI.gfx.setScaleX(id, initialfactor+increment);
		webMI.gfx.setScaleY(id, initialfactor+increment);
		webMI.gfx.setFill(id, ColorAct);
		
		if (isGrowing) {
		  // If it is increasing, increase Size
		  increment=increment+0.02;
		  if (initialfactor+increment >= targetfactor) {
			isGrowing = false;
		  }
		} 
		
		else {		
		  // If it is decreasing, reduce size		  
		  increment=increment-0.02;
		  if (initialfactor+increment <= initialfactor) {
			isGrowing = true;
		  }
		}  
	 }	 
}, 75); // Interval in Miliseconds


//Alarm Min
setInterval(() => {
	if(alarmActive_min){
		const initialfactor=1;
		const targetfactor=1.2;
		
		const id="alarm_square_min";
		
		//Color Calculation
		ColorAct=generateColorIntensity(ColorIni,(initialfactor+(increment*1.2)));
		webMI.gfx.setScaleX(id, initialfactor+increment);
		webMI.gfx.setScaleY(id, initialfactor+increment);
		webMI.gfx.setFill(id, ColorAct);
		
		if (isGrowing) {
		  // If it is increasing, increase Size
		  increment=increment+0.02;
		  if (initialfactor+increment >= targetfactor) {
			isGrowing = false;
		  }
		} 
		
		else {		
		  // If it is decreasing, reduce size		  
		  increment=increment-0.02;
		  if (initialfactor+increment <= initialfactor) {
			isGrowing = true;
		  }
		}  
	 }	 
}, 75); // Interval in Miliseconds


//Increasing Alert Max
setInterval(() => {	

	 if(alertCActive){		
		const initialposition=0;
		const targetposition=-Movement_Range; //Advance X Pixels
		const id="alert_increasing";
		const id2="alertC_text";
				
		//Color Calculation
		//ColorActAlerC=generateColorIntensity(ColorIniAlerC,(initialposition+-((incrementAlerC))));
		webMI.gfx.setMoveY(id,initialposition+incrementAlerC);
		webMI.gfx.setFill(id, ColorActAlerC);
		
		webMI.gfx.setMoveY(id2,initialposition+incrementAlerC);
		
		// If it is increasing, increase Size
		incrementAlerC=incrementAlerC-Step_size;
		if (initialposition+incrementAlerC <= targetposition) {
			incrementAlerC=0;
		}		
	 }
}, 50); // Interval in Miliseconds

//Decreasing Alert Max
setInterval(() => {	

	 if(alertDActive){	
		const initialposition=0;
		const targetposition=Movement_Range; //Advance X Pixels
		const id="alert_decreasing";
		const id2="alertD_text";
				
		//Color Calculation
		//ColorActAlerC=generateColorIntensity(ColorIniAlerC,(initialposition+-((incrementAlerC))));
		webMI.gfx.setMoveY(id,initialposition+incrementAlerD);
		webMI.gfx.setFill(id, ColorActAlerD);
		
		webMI.gfx.setMoveY(id2,initialposition+incrementAlerD);
		
		// If it is increasing, increase Size
		incrementAlerD=incrementAlerD+Step_size;
		if (initialposition+incrementAlerD >= targetposition) {
			incrementAlerD=0;
		}		
	 }
}, 50); // Interval in Miliseconds


//Increasing Alert Min
setInterval(() => {	

	 if(alertCActive_min){	
	 	
		const initialposition=0;
		const targetposition=Movement_Range; //Advance X Pixels
		const id="alert_increasing_min";
		const id2="alertC_text_min";
				
		//Color Calculation
		
		webMI.gfx.setMoveY(id,initialposition+incrementAlerC_min);
		webMI.gfx.setFill(id, ColorActAlerC);
		
		webMI.gfx.setMoveY(id2,initialposition+incrementAlerC_min);
		
		// If it is increasing, increase Size
		incrementAlerC_min=incrementAlerC_min+Step_size;
		if (initialposition+incrementAlerC_min >= targetposition) {
			incrementAlerC_min=0;
		}		
	 }
}, 50); // Interval in Miliseconds

//Decreasing Alert Min
setInterval(() => {	

	 if(alertDActive_min){	
		const initialposition=0;
		const targetposition=-Movement_Range; //Advance X Pixels
		const id="alert_decreasing_min";
		const id2="alertD_text_min";
				
		//Color Calculation
		//ColorActAlerC=generateColorIntensity(ColorIniAlerC,(initialposition+-((incrementAlerC))));
		webMI.gfx.setMoveY(id,initialposition+incrementAlerD_min);
		webMI.gfx.setFill(id, ColorActAlerD);
		
		webMI.gfx.setMoveY(id2,initialposition+incrementAlerD_min);
		
		// If it is increasing, increase Size
		incrementAlerD_min=incrementAlerD_min-Step_size;
		if (initialposition+incrementAlerD_min <=targetposition) {
			incrementAlerD_min=0;
		}		
	 }
}, 50); // Interval in Miliseconds




//Color Generation Function
function generateColorIntensity(colorHex, intensityfactor) {
  // Validate that the colorHex has a valid format
  if (!/^#([0-9A-F]{3}){1,2}$/i.test(colorHex)) {
    throw new Error('Hexadecimal color is not in a valid format.');
  }

  // Remove the '#' symbol and split the color into RGB components
  const hex = colorHex.substring(1);
  const rgb = [
    parseInt(hex.substring(0, 2), 16),
    parseInt(hex.substring(2, 4), 16),
    parseInt(hex.substring(4, 6), 16)
  ];

  // Adjust the intensity of each RGB component
  const newRGB = rgb.map(component => {
    const newValue = Math.round(component * intensityfactor);
    return Math.min(Math.max(newValue, 0), 255); // Ensure that the value is within the range [0, 255]
  });

  // Convert the new RGB to a hexadecimal color
  const newHex = newRGB
    .map(component => component.toString(16).padStart(2, '0'))
    .join('');

  return `#${newHex}`;
}














]]></script>
 <g atv:refpx="162.1" atv:refpy="86.933" id="Image_1" transform="matrix(1,0,0,1,-2,-7.516)">
  <g atv:refpx="221.164" atv:refpy="98.373" id="Group_DownStream_Pipe_Flange" transform="matrix(1.452,0,0,1.452,82.5092,39.5063)">
   <path atv:refpx="110.416" atv:refpy="40.205" d="M112.049,53.043L108.783,53.043L108.783,27.367L112.049,27.367Z" fill="url(#SVGID_1_)" id="id_0" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="106.305" atv:refpy="40.204" d="M103.828,32.095L103.828,48.312L108.783,48.312L108.783,32.095Z" fill="url(#SVGID_2_)" id="id_1"/>
   <path atv:refpx="82.431" atv:refpy="40.543" d="M78.941,24.101L85.922,24.101L85.922,56.984L78.941,56.984Z" fill="url(#SVGID_3_)" id="id_3"/>
  </g>
  <g atv:refpx="141.373" atv:refpy="98.047" id="Group_Pump_Suction_Body" transform="matrix(1.452,0,0,1.452,82.5092,39.5063)">
   <path atv:refpx="8.784" atv:refpy="40.203" d="M4.392,63.177L1.464,61.488L1.464,19.371L4.392,17.229L14.414,17.229L16.103,40.089L14.414,63.175L4.392,63.175Z" fill="url(#SVGID_4_)" id="id_4" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="43.694" atv:refpy="40.542" d="M14.64,19.596L16.104,40.091L14.64,61.488L67.342,61.488L68.131,61.039L70.158,61.039L71.172,60.251L72.747,40.317L71.172,20.498L70.158,19.823L68.131,19.823L67.342,19.596Z" fill="url(#SVGID_5_)" id="id_5" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="75.958" atv:refpy="40.541" d="M71.172,60.588L71.172,60.25L72.747,40.316L71.172,20.497L72.072,19.597L75.338,20.723L76.802,21.286L78.717,21.286L79.166,21.962L80.743,40.316L79.166,58.671L78.717,59.122L77.028,59.122L75.34,59.572L72.073,61.485Z" fill="url(#SVGID_6_)" id="id_7" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="39.978" atv:refpy="20.216" d="M14.865,22.186L14.415,18.246L64.302,18.246L64.414,18.246L64.641,18.246L64.751,18.357L64.979,18.47L65.205,18.581L65.316,18.692L65.428,18.805L65.541,18.917L65.541,21.282L65.428,21.507L65.316,21.733L65.205,21.845L64.979,21.958L64.751,22.07L64.641,22.181L64.414,22.181L64.302,22.181L14.865,22.181Z" fill="url(#SVGID_7_)" id="id_8"/>
   <path atv:refpx="40.091" atv:refpy="56.76" d="M14.64,58.673L14.865,54.845L64.527,54.845L65.542,55.858L65.542,57.998L64.527,58.675Z" fill="url(#SVGID_8_)" id="id_9"/>
   <path atv:refpx="1.408" atv:refpy="40.43" d="M1.464,19.371L2.477,40.092L1.464,61.488L0.338,40.092Z" fill="#0000BF" id="id_10" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="66.554" atv:refpy="40.543" d="M65.766,20.047L67.342,40.543L65.766,61.038" fill="none" id="id_11" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="65.877" atv:refpy="26.409" d="M67.566,25.227L68.129,25.227L68.355,26.465L68.129,27.591L63.4,27.591L63.4,25.227Z" fill="#7F7FFF" id="id_12"/>
   <path atv:refpx="40.653" atv:refpy="24.327" d="M15.09,26.24L14.863,22.412L65.766,22.412L66.442,23.426L66.442,25.227L65.766,26.241Z" fill="url(#SVGID_9_)" id="id_13"/>
   <path atv:refpx="65.878" atv:refpy="53.436" d="M68.131,52.254L68.356,53.492L68.131,54.618L63.4,54.618L63.4,52.253Z" fill="#7F7FFF" id="id_14"/>
   <path atv:refpx="40.879" atv:refpy="28.324" d="M15.428,29.731L15.091,26.917L66.217,26.917L66.666,27.368L66.666,29.282L66.217,29.731Z" fill="url(#SVGID_10_)" id="id_15"/>
   <path atv:refpx="4.223" atv:refpy="40.318" d="M4.617,17.007L3.828,40.317L4.617,63.629" fill="none" id="id_16" stroke="#4C4C4C" stroke-width="0.25"/>
  </g>
  <g atv:refpx="140.309" atv:refpy="100.497" id="Group_Board_Indicator" transform="matrix(1.452,0,0,1.452,82.5092,39.5063)">
   <path atv:refpx="39.471" atv:refpy="41.612" d="M20.496,34.236L58.444,34.236L58.444,48.988L20.496,48.988Z" fill="#7F7F7F" id="id_17" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="40.203" atv:refpy="42.231" d="M21.284,34.686L59.121,34.686L59.121,49.775L21.284,49.775Z" fill="#7F7FFF" id="id_18" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="40.09" atv:refpy="42.231" d="M27.59,37.276L52.59,37.276L52.59,47.186L27.59,47.186Z" fill="#7F7F7F" id="id_21"/>
  </g>
  <g atv:refpx="166.308" atv:refpy="138.516" id="Group_Pump_Support" transform="matrix(1.452,0,0,1.452,82.5092,39.5063)">
   <path atv:refpx="91.835" atv:refpy="72.976" d="M94.145,70.61L96.059,70.61L96.059,73.539L100.563,73.539L100.563,75.341L83.107,75.341L83.107,73.539L94.144,73.539L94.144,70.61Z" fill="url(#SVGID_11_)" id="id_22" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="41.217" atv:refpy="68.189" d="M60.811,61.038L63.176,61.038L63.176,73.538L67.569,73.538L67.569,75.34L14.865,75.34L14.865,73.538L17.005,73.538L17.005,61.038L19.369,61.038L19.369,73.538L60.809,73.538L60.809,61.038Z" fill="url(#SVGID_12_)" id="id_23" stroke="#4C4C4C" stroke-width="0.25"/>
  </g>
  <g atv:refpx="220.677" atv:refpy="48.503" id="Group_Upstream_Pipe_Flange" transform="matrix(1.452,0,0,1.452,82.5092,39.5063)">
   <path atv:refpx="95.157" atv:refpy="7.716" d="M100.563,12.052L89.752,12.052L89.752,3.38L100.562,3.38Z" fill="url(#SVGID_13_)" id="id_24" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="95.159" atv:refpy="1.86" d="M106.645,0.34L106.645,3.38L83.672,3.38L83.672,0.34Z" fill="url(#SVGID_14_)" id="id_25" stroke="#4C4C4C" stroke-width="0.25"/>
  </g>
  <g atv:refpx="218.876" atv:refpy="98.208" id="Group_Flip_Ring" transform="matrix(1.452,0,0,1.452,82.5092,39.5063)">
   <path atv:refpx="84.966" atv:refpy="19.09" d="M84.348,17.457L85.923,17.457L85.923,20.723L84.348,20.723L84.348,20.047L84.009,20.047L84.009,18.02L84.348,18.02Z" fill="url(#SVGID_15_)" id="id_26" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="84.966" atv:refpy="61.489" d="M84.348,59.799L85.923,59.799L85.923,63.178L84.348,63.178L84.348,62.39L84.009,62.39L84.009,60.588L84.348,60.588Z" fill="url(#SVGID_16_)" id="id_27" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="84.966" atv:refpy="47.242" d="M84.348,45.497L85.923,45.497L85.923,48.987L84.348,48.987L84.348,48.311L84.009,48.311L84.009,46.171L84.348,46.171Z" fill="url(#SVGID_17_)" id="id_28" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="84.966" atv:refpy="32.546" d="M84.348,30.857L85.923,30.857L85.923,34.236L84.348,34.236L84.348,33.449L84.009,33.449L84.009,31.645L84.348,31.645Z" fill="url(#SVGID_18_)" id="id_29" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="86.994" atv:refpy="40.429" d="M85.924,16.105L88.063,16.105L88.063,64.753L85.924,64.753Z" fill="url(#SVGID_19_)" id="id_30" stroke="#4C4C4C" stroke-width="0.25"/>
   <path atv:refpx="102.871" atv:refpy="40.542" d="M101.914,25.227L103.828,25.227L103.828,55.857L101.914,55.857Z" fill="url(#SVGID_20_)" id="id_31" stroke="#4C4C4C" stroke-width="0.25"/>
  </g>
  <g atv:refpx="220.428" atv:refpy="98.372" id="Group_MakeUp_Tank" transform="matrix(1.452,0,0,1.452,82.5092,39.5063)">
   <path atv:refpx="94.988" atv:refpy="40.542" d="M101.914,64.979L101.914,15.878L101.464,13.064L99.775,10.7L97.748,9.462L95.158,9.011L92.566,9.462L90.426,10.7L88.738,13.064L88.062,15.878L88.062,64.977L88.738,68.131L90.426,70.157L92.566,71.622L95.158,72.072L97.748,71.622L99.775,70.157L101.463,68.131Z" fill="url(#SVGID_21_)" id="id_32" stroke="#4C4C4C" stroke-width="0.25"/>
  </g>
 </g>
 <rect atv:refpx="169" atv:refpy="74" fill="#000000" fill-opacity="0" height="144" id="click_area" stroke="#0000ff" stroke-width="0" width="182" x="78" y="2"/>
</svg>
