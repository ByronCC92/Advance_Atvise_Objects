<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg height="890" version="1.2" width="1675" xmlns="http://www.w3.org/2000/svg" xmlns:atv="http://webmi.atvise.com/2007/svgext" xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs/>
 <metadata>
  <atv:parameter behavior="optional" defaultvalue="SYSTEM.GLOBALS.Color_Global_1" desc="Color" name="Color" substitute="$Color$" valuetype="global"/>
  <atv:parameter behavior="optional" defaultvalue="SYSTEM.GLOBALS.atvise_Advanced_Objects_Geolocation_List.Geolocation_List" desc="Global Geo List" name="Global_Geo_List" valuetype="global"/>
  <atv:parameter behavior="optional" defaultvalue="SYSTEM.GLOBALS.atvise_Advanced_Objects_Geolocation_List.Geolocation_List" desc="Global_Geo_Address" name="Global_Geo_Address" valuetype="string"/>
  <atv:parameter behavior="optional" defaultvalue="AGENT.OBJECTS.Geo_Config" desc="Geo Config" name="Geo_Config" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="" desc="Iframe" name="Iframe" valuetype="string"/>
  <atv:gridconfig enabled="true" gridstyle="lines" height="20" width="20"/>
  <atv:snapconfig enabled="true" height="10" width="10"/>
 </metadata>
 <line atv:refpx="825" atv:refpy="60" id="id_3" stroke="$Color$" stroke-width="2" x1="0" x2="1650" y1="60" y2="60"/>
 <text atv:refpx="177" atv:refpy="34" fill="#000000" font-family="Arial" font-size="34" id="id_4" x="5" y="46.5">Geolocation Dashboard</text>
 <svg atv:refpx="840" atv:refpy="480.002" height="600" id="id_5" transform="matrix(2.1,0,0,1.3666,0,0)" width="800" x="0" xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.hmi.iframe" y="51.221">
  <atv:argument name="frameName" value="geoiframe"/>
  <atv:argument name="display" value="SYSTEM.LIBRARY.PROJECT.OBJECTDISPLAYS.atvise_Advanced_Objects_Dashboards.Geolocation_Dashboard.Geolocation_blank"/>
 </svg>
 <rect atv:refpx="1630" atv:refpy="35" fill="#000000" height="40" id="background_set" stroke="none" stroke-width="2" width="40" x="1610" y="10"/>
 <g atv:refpx="1629.827" atv:refpy="35.319" id="id_28" transform="matrix(1,0,0,1,1270,2)">
  <polyline atv:refpx="352.435" atv:refpy="19.81" fill="#ffffff" id="id_23" points="344.242,14.36 348.325,18.444 350.878,18.444 351.899,17.423 351.899,15.381 347.815,11.297 352.41,11.297 354.961,14.36 354.961,18.444 361.088,24.569 357.478,28.32 351.899,22.528 347.815,22.018 344.242,18.954 343.78,14.148" stroke="#ffffff" stroke-width="1"/>
  <polyline atv:refpx="351.463" atv:refpy="18.612" fill="#ffffff" id="id_24" points="376.961,41.081 372.878,36.998 370.325,36.998 369.304,38.019 369.304,40.06 373.388,44.145 368.793,44.145 366.242,41.081 366.242,36.998 360.116,30.872 363.725,27.122 369.304,32.914 373.388,33.424 376.961,36.487 377.424,41.294" stroke="#ffffff" stroke-width="1"/>
  <path atv:refpx="358.821" atv:refpy="28.853" d="M354.5,30.696L367.773,17.423C367.773,17.423 367.773,15.381 367.773,15.381C367.773,15.381 373.899,12.318 373.899,12.318C373.899,12.318 375.431,13.85 375.431,13.85C375.431,13.85 372.878,19.465 372.878,19.465C372.878,19.465 370.836,19.465 370.836,19.465C370.836,19.465 356.542,33.248 356.542,33.248C356.542,33.248 358.074,34.78 358.074,34.78C358.074,34.78 348.374,44.479 348.374,44.479C348.374,44.479 345.311,46.521 343.27,44.479C341.228,42.437 342.759,40.396 342.759,39.885C342.759,39.375 353.021,29.16 353.021,29.16C353.021,29.16 354.5,31.207 354.5,30.696" fill="#ffffff" id="id_25" stroke="#ffffff" stroke-width="1"/>
 </g>
 <rect atv:refpx="1630" atv:refpy="35" fill="#000000" fill-opacity="0" height="40" id="click_area_set" stroke="none" stroke-width="2" width="40" x="1610" y="10"/>
 <rect atv:refpx="1580" atv:refpy="29" fill="#000000" height="40" id="background_map" stroke="none" stroke-width="2" width="40" x="1560" y="10"/>
 <g atv:refpx="1580" atv:refpy="30" id="id_13" transform="matrix(1,0,0,1,112.5,-7.5)">
  <path atv:refpx="1268" atv:refpy="38" d="M1467.5,20C1457.83,20 1450,27.828 1450,37.5C1450,47.171 1457.83,55 1467.5,55C1477.17,55 1485,47.171 1485,37.5C1485,27.828 1477.17,20 1467.5,20M1467.5,22.763C1475.61,22.763 1482.24,29.394 1482.24,37.5C1482.24,45.604 1475.61,52.236 1467.5,52.236C1459.39,52.236 1452.76,45.604 1452.76,37.5C1452.76,29.394 1459.39,22.763 1467.5,22.763" fill="#ffffff" id="id_7" stroke="#ffffff" stroke-width="1.46"/>
  <path atv:refpx="1267.9" atv:refpy="38.1" d="M1460.32,44.683L1470.45,40.539L1474.59,30.407L1464.46,34.644ZM1467.5,36.578C1468.05,36.578 1468.42,36.946 1468.42,37.5C1468.42,38.052 1468.05,38.421 1467.5,38.421C1466.95,38.421 1466.58,38.052 1466.58,37.5C1466.58,36.946 1466.95,36.578 1467.5,36.578" fill="#ffffff" id="id_11" stroke-width="0.461"/>
 </g>
 <rect atv:refpx="1580" atv:refpy="29" fill="#000000" fill-opacity="0" height="40" id="click_area_map" stroke="none" stroke-width="2" width="40" x="1560" y="10"/>
 <script atv:desc="" atv:name="" type="text/ecmascript"><![CDATA[//External Variables
var Global_MaintenanceR=webMI.query["Global_Maintenance"];
var Color=webMI.query["Color"];


//Menu Variables
var Backgrounds=["background_map","background_set"];
var Click_Area=["click_area_map","click_area_set"];
var Displays=["SYSTEM.LIBRARY.PROJECT.OBJECTDISPLAYS.atvise_Advanced_Objects_Dashboards.Geolocation_Dashboard.Geolocation_map","SYSTEM.LIBRARY.PROJECT.OBJECTDISPLAYS.atvise_Advanced_Objects_Dashboards.Geolocation_Dashboard.Geolocation_set"];
var ElementsR;

//----------Initial Conditions----------//
webMI.addOnload(function() {
	   
	 //Call Global_Mant_Monitor to clean up the list  	 
	 webMI.data.call("Global_Geo_Monitor_webMI_Method_Script", {}, function(e) {
		 
		//Menu Initial Conditions
		setactive(0);		
		
	});
});


//-----------Triggers--------------//


//Maintenance_Set
webMI.addEvent(Click_Area[0], "click", function(e) {

	setactive(0);
	
});

//Maintenance_Calendar
webMI.addEvent(Click_Area[1], "click", function(e) {

	setactive(1);	 
	
});



//Function to set active window
function setactive(ID){
	
	//Set active only the current icon
	for (var i=0; i<Click_Area.length; i++){
		if (i==ID){
			webMI.gfx.setFill(Backgrounds[i], Color);
		}
		else
		{
			webMI.gfx.setFill(Backgrounds[i], "#000000");
		}
	}
	
	//Open the current window
	webMI.display.openDisplay(Displays[ID], webMI.query, "geoiframe");
	
};

]]></script>
</svg>
